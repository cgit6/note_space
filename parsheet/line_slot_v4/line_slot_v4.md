## 遊戲規格

作一個簡單的BG FG 遊戲 3x5 左到右 20 線
圖標只有基本圖標 C1 和 W1（圖標總數(不含 None)約 10 個左右，賠率表你自訂

BG

1. 3C1 以上觸發 10 局 FG，3C1 4C1 5C1 得分不同

FG

1. 3C1 以上 +5 局 FG，3C1 4C1 5C1 得分不同
2. 通過 Wild 的得分 x3 倍（一條線上多個 Wild 不會累乘）

---

給一組配置，滿足：

1. BG 50~65% RTP
2. 得分率介於 30%~40%
3. FG 平均約 120 轉左右左右觸發一次
4. FG 中要有破千倍的得分
5. 總體 RTP 介於 96%~97%
6. CV 介於 6-8
<!-- 7. 輪帶長度都要一樣
7. fg 跟 bg 共用一張 PAYTABLE
   -->

思考(計算面):

- 符號: H1-H4, L1-L4, C1, W1，賠率再說
- 3C1 4C1 5C1 得分不同 -> C1 是有賠率的 (5,20,100)
- 3C1 以上 +5 局 -> FG 有加局，3C1 加 5 局。
- 通過 Wild 的得分 x3 倍（一條線上多個 Wild 不會累乘） -> 如果有 Wild 的組合期望值 x3
- FG 破千倍的得分 -> 那就是破千倍的組合，如果是這樣那就是某個組合賠率要超過 333 x lines(20) 倍，最後還有 wild x3
- 遊戲得分率 -> BG 中有中獎組合數 / 所有可能組合數 +
- FG 觸發率要控制在 120 左右 -> FG 觸發率約 0.8%，也就是 P(3C1)+P(4C1)+P(5C1) = 0.8% 看這個描述每軸應該最多 1C1 了。

問題確認:
"3C1 以上觸發 10 局 3C1 4C1 5C1得分不同" 在這個語境中，想確認一下是賠率不同還是加局數不同?
CV 公式是 CV = 標準差/平均值嗎?
得分率是整個遊戲的得分率還是 BG 而已?
得分率是中獎率嗎?
回復:

1. 3C1 以上觸發 10 局 FG
2. C1有獨立得分，3C1 4C1 5C1得分不同
   3.CV= 標準差/rtp 4.得分率= 整個遊戲得分率
   得分率= 一次spin贏分>0的機率

==我先把表格做出來好了，調整的部分等做出來在想==

## 1. 數值計算

### 1.1. Base Game 計算

#### 第一步: 定義輪帶，進行 slice 分割

建立 5 條輪帶，並以每軸連續 3 格為一個 slice（含環狀） 進行切分。

#### 第二步: 計算 C1 出現的機率

利用 slice 統計 C1，在一次盤面中出現 {3,4,5} 顆 C1 的組合數與機率，並計算期望值（以本局總押注計算）。

利用 excel 公式排列出 C5 取 5、C5 取 4、C5 取 3 的組合。然後統計數量計算組合數。

3C1、4C1、5C1 有賠率且各不相同。

#### 計算符號數量

統計每一軸中某個符號出現的數量

#### 計算期望值

連線數、數量、賠率、Hits、Prob、RTP...

### 1.2. Free Game 計算

### 1.3. 加局計算

Base Game ==三顆以上 C1 的機率== _1 spin Free Game RTP_ Free Game 平均 spin 次數。

其中 Free Game 平均 spin 次數利用等比級數公式計算
1 / (1- (FG 局數 _3 顆 FG C1 再觸發率) - (FG 局數_ 4 顆 FG C1 再觸發率) - (FG 局數 \* 5 顆 FG C1 再觸發率))

<!-- 參考: https://ezslotdesign.com/slotmath2/ -->

上次提到表格的"最小連線" 要用公式去判斷 Paytable 值。

## 2. 數值調整

#### 2.1. 通過 Wild 的得分 x3 倍

在最後計算期望值的時候，如果有包含 Wild 的組合期望值 x3。

#### 2.2. FG 中要有破千倍的得分

出現 Wild x3 倍所以 得分符號 或 wild 至少一組的最大賠率 > 333

#### 2.3. 得分率介於 30%~40%

整個遊戲得分率 = 一次spin贏分 > 0的機率，

#### 2.4. CV 介於 6-8

> CV= 標準差/rtp

#### 2.5. rtp

總體 RTP 96%~97%，BG RTP 50~65% ，FG RTP 32~46%。

FG 平均約 120 轉左右左右觸發一次 -> 約 0.8% 觸發率 所以 1 spin FG RTP = 375%~575%

---

思考(調參面)

- BG FG paytable 同一套
- BG 多小獎，但保持低 rtp ，約 spin 120 左右(0.8%)內要進 FG
- FG 觸發率 0.8%，少小獎但出現小概率組合賠率超高
- CV 6~8 體驗上，很多 spin 沒中(30~40% 會中) 如果中獎就是小獎(0.5x、1x、2x...) 不然就是大獎(50x、100x ... 1000x)
- wild 的功能是什麼? 他可以提高得分率的同時
- C1 賠率不能太高，因為是同一套 Paytable 所以拉高 FG RTP 這件事就不能寄望他了，W1 的乘數也跟他沒關係。
- FG 的最高賠率給 W1 5 顆連線的賠率來處理，並且 W1 乘數(x3)。

那整體而言我的小獎要怎麼分配? -> FG 跟 BG 的小獎要怎麼分配?

<!-- 參考: https://slotcatalog.com/en/slots/Cleopatra-IGT -->

==還要考慮這樣的設計，以單一玩家的視角他的體驗是什麼==

我能動的東西

- 輪帶
  - 每個得分符號出現的分布
  - BG C1 要配合 0.8%，FG C1 可能可以調增加(加局的機會高賠率可能就不用拉這麼高，拉太高 CV 會爆)
  - Wild 出現連線 x3
- 賠率(同一套表，要給 BG 做小獎) 又要給 FG 做大獎

==最高獎給 5W1 只會在 FG 中出現== 所以 BG 最後一軸不能有 Wild

## 3. code simulate

現在缺少 free spin 的部分，還有最後統計值的計算(CV、得分率、FG 觸發率、FG 最高倍數)

然後 C1 有rtp 要加上去。

統計值:
CV = simple_std / mean
得分率 = bg_hit_rate + fg_trigger _fg_avg_spin_ fg_hit_rate / (1+ fg_trigger \* fg_avg_spin)
fg_trigger = FG 觸發率
fg_high_rate = FG 最高賠率
